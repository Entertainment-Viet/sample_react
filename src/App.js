import './App.css';
import SockJS from 'sockjs-client';
import Stomp from 'stompjs';



export default function App() {

  var headers = {
    token: 'eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJvRjZSQzZseUluTE1ibU1lN2QwM2lWMHAyY3FhUThkdS1PMXMzd1JqTnIwIn0.eyJleHAiOjE3MDk3NTMzNjUsImlhdCI6MTY3ODIxNzM2NSwianRpIjoiMzU0MzNmOGMtZGI5Mi00NmNjLTgxZTUtMWQ0MzJmMDQ5MTI5IiwiaXNzIjoiaHR0cDovL2tleWNsb2FrOjgwODAvYXV0aC9yZWFsbXMvdmUtc3NvIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImRkODFhZjA4LTg4OTEtNDk5Ni1hNmFkLTEzNDMzMWFjOTJiNyIsInR5cCI6IkJlYXJlciIsImF6cCI6ImJhY2tlbmQiLCJzZXNzaW9uX3N0YXRlIjoiMTE0YTkxMDQtZDg4MC00MmM3LTllMzMtODA2MDYxMjE3Yzg2IiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MCIsImxvY2FsaG9zdDozMDAwIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJPUkdBTklaRVJfV1JJVEVfQUNDRVNTIiwib2ZmbGluZV9hY2Nlc3MiLCJPUkdBTklaRVJfUEFZTUVOVF9BQ0NFU1MiLCJPUkdBTklaRVJfTU9ESUZZX0FDQ0VTUyIsInVtYV9hdXRob3JpemF0aW9uIiwiT1JHQU5JWkVSX1JFQURfQUNDRVNTIiwiZGVmYXVsdC1yb2xlcy12ZS1zc28iXX0sInJlc291cmNlX2FjY2VzcyI6eyJiYWNrZW5kIjp7InJvbGVzIjpbIkNMRUFSX1NIT1BQSU5HX0NBUlQiLCJSRUFEX0JPT0tJTkciLCJSRUpFQ1RfUE9TSVRJT05fQVBQTElDQU5UIiwiUEFZX09SR0FOSVpFUl9DQVNIIiwiQlJPV1NFX0VWRU5UX0JPT0tJTkciLCJBRERfQk9PS0lORyIsIlJFQURfVEFMRU5UIiwiUkVBRF9TQ09SRSIsIlJFQURfQ0FSVF9JVEVNIiwiVkVSSUZZX09SR0FOSVpFUiIsIkRFTEVURV9KT0JPRkZFUiIsIkJST1dTRV9FVkVOVCIsIkRFTEVURV9GSUxFIiwiQUREX1JFVklFVyIsIkFERF9PUkdBTklaRVJfRkVFREJBQ0siLCJCUk9XU0VfSk9CT0ZGRVIiLCJBRERfRVZFTlRfUE9TSVRJT04iLCJSRUFEX1JFVklFVyIsIk9SREVSX1RBTEVOVF9QQUNLQUdFIiwiVVBEQVRFX0VWRU5UX1BPU0lUSU9OIiwiUkVBRF9CT09LSU5HX05PVEkiLCJCUk9XU0VfQk9PS0lOR19PUkdBTklaRVIiLCJSRUFEX09SR0FOSVpFUl9DT05GSURFTlRJQUwiLCJVUERBVEVfQ0FSVF9JVEVNIiwiVVBEQVRFX09SR0FOSVpFUl9DT05GSURFTlRJQUwiLCJSRUFEX09SR0FOSVpFUl9GRUVEQkFDSyIsIlJFQ0VJVkVfT1JHQU5JWkVSX0NBU0giLCJDQU5DRUxfQk9PS0lOR19PUkdBTklaRVIiLCJVUERBVEVfQk9PS0lOR19OT1RJIiwiQlJPV1NFX1BBQ0tBR0UiLCJBRERfSk9CT0ZGRVIiLCJBQ0NFUFRfQk9PS0lOR19PUkdBTklaRVIiLCJSRUFEX0pPQk9GRkVSIiwiRklOSVNIX0JPT0tJTkdfT1JHQU5JWkVSIiwiUkVBRF9FVkVOVCIsIkJST1dTRV9QT1NJVElPTl9BUFBMSUNBTlQiLCJSRUFEX09SR0FOSVpFUiIsIkRFTEVURV9FVkVOVF9QT1NJVElPTiIsIlVQREFURV9FVkVOVCIsIlJFQURfRVZFTlRfUE9TSVRJT04iLCJBRERfRVZFTlQiLCJVUERBVEVfT1JHQU5JWkVSIiwiQlJPV1NFX1RBTEVOVCIsIlVQREFURV9CT09LSU5HIiwiUkVBRF9QQUNLQUdFIiwiQlJPV1NFX09SR0FOSVpFUl9GRUVEQkFDSyIsIkFERF9DQVJUX0lURU0iLCJCUk9XU0VfQk9PS0lOR19UQUxFTlQiLCJVUExPQURfRklMRSIsIlJFQURfRklMRSIsIkJST1dTRV9FVkVOVF9QT1NJVElPTiIsIkRFTEVURV9FVkVOVCIsIlJFQURfU0hPUFBJTkdfQ0FSVCIsIkFDQ0VQVF9QT1NJVElPTl9BUFBMSUNBTlQiLCJSRUFEX0xPQ0FUSU9OIiwiUkVBRF9DQVRFR09SWSIsIkRFTEVURV9DQVJUX0lURU0iLCJVUERBVEVfSk9CT0ZGRVIiXX0sImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoicHJvZmlsZSBlbWFpbCIsInNpZCI6IjExNGE5MTA0LWQ4ODAtNDJjNy05ZTMzLTgwNjA2MTIxN2M4NiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoib3JnYW5pemVyYSIsImVtYWlsIjoib3JnYW5pemVyYUBnbWFpbC5jb20ifQ.dmIRTn0pgI_DFkt9gNM3f-SQfPx3-ylmGkTqsdx2mbPxeGDehTcsrV3plQhqUR4C_WtX2QU9YHBiv7Xd1UJFeXKClyj9i8moquCITcKfBT82c96DWYMgTkOzue0BJ2HyrpAgdvRUo6MlKc8MSfvcsNI_HmWWhYEXy1HmssL9HSIpUvx6gv2AHrKeBR2Jo8AekKFlYUArDjOd4h76deOgqWbduMjdQ5vH_-XCArps2vj6LQgCawtco_ZJDJhH0mtIRgmLvaFC0j8z1iJy6nryfHJubHX5ytgNVBaCDXQ6XhLHJMUcJAuQGriiwqdhhAMmwmgnrCMsF2icV-EsHloXuA'
  };

  var sock = new SockJS('http://localhost:8888/api/ws');
  let stompClient = Stomp.over(sock);
  sock.onopen = function() {
    console.log('open');
  }
  stompClient.connect(headers, function (frame) {
     console.log('Connected: ' + frame);
     stompClient.subscribe('/user/dd81af08-8891-4996-a6ad-134331ac92b7/topic/booking', function (greeting) {
       console.log(greeting);
       //you can execute any function here
     });
  });
  return (
    <div >
        hello world
    </div>
  );
}

